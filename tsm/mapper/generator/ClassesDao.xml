<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.trkj.tsm.dao.ClassesDao">
  <resultMap id="BaseResultMap" type="com.trkj.tsm.entity.Classes">
    <id column="Classes_Id" jdbcType="INTEGER" property="classesId" />
    <result column="Course_Id" jdbcType="INTEGER" property="courseId" />
    <result column="Teacher_Id" jdbcType="INTEGER" property="teacherId" />
    <result column="Emp_Id" jdbcType="INTEGER" property="empId" />
    <result column="DetailCourse_Id" jdbcType="INTEGER" property="detailcourseId" />
    <result column="Classes_Name" jdbcType="VARCHAR" property="classesName" />
    <result column="Classes_Open" jdbcType="INTEGER" property="classesOpen" />
    <result column="OpenDate" jdbcType="TIMESTAMP" property="opendate" />
    <result column="Classes_State" jdbcType="INTEGER" property="classesState" />
    <result column="EndDate" jdbcType="TIMESTAMP" property="enddate" />
    <result column="AddName" jdbcType="VARCHAR" property="addname" />
    <result column="AddTIME" jdbcType="TIMESTAMP" property="addtime" />
    <result column="UpdateName" jdbcType="VARCHAR" property="updatename" />
    <result column="UpdateTime" jdbcType="TIMESTAMP" property="updatetime" />
    <result column="DeleteName" jdbcType="VARCHAR" property="deletename" />
    <result column="DeleteTime" jdbcType="TIMESTAMP" property="deletetime" />
    <result column="TimeLiness" jdbcType="INTEGER" property="timeliness" />
    <association property="course" javaType="com.trkj.tsm.entity.Course">
      <id column="Course_Id" jdbcType="INTEGER" property="courseId" />
      <result column="Commission" jdbcType="DECIMAL" property="commission" />
      <result column="Course_Name" jdbcType="VARCHAR" property="courseName" />
      <result column="Course_State" jdbcType="INTEGER" property="courseState" />
      <result column="Classhours" jdbcType="INTEGER" property="classhours" />
      <result column="Course_Money" jdbcType="DECIMAL" property="courseMoney" />
      <result column="ClassType_Id" jdbcType="INTEGER" property="classtypeId" />
      <result column="AddName" jdbcType="VARCHAR" property="addname" />
      <result column="ADDTIME" jdbcType="TIMESTAMP" property="addtime" />
      <result column="UpdateName" jdbcType="VARCHAR" property="updatename" />
      <result column="UpdateTime" jdbcType="TIMESTAMP" property="updatetime" />
      <result column="StopName" jdbcType="VARCHAR" property="stopname" />
      <result column="StopTime" jdbcType="TIMESTAMP" property="stoptime" />
      <result column="BeginName" jdbcType="VARCHAR" property="beginname" />
      <result column="BeginTime" jdbcType="TIMESTAMP" property="begintime" />
      <result column="DeleteName" jdbcType="VARCHAR" property="deletename" />
      <result column="DeleteTime" jdbcType="TIMESTAMP" property="deletetime" />
      <result column="TimeLiness" jdbcType="INTEGER" property="timeliness" />
    </association>
    <association property="cteacher" javaType="com.trkj.tsm.entity.Emp">
      <id column="Emp_Id" jdbcType="INTEGER" property="empId" />
      <result column="Dept_Id" jdbcType="INTEGER" property="deptId" />
      <result column="Position_Id" jdbcType="INTEGER" property="positionId" />
      <result column="Enterprise_Id" jdbcType="INTEGER" property="enterpriseId" />
      <result column="UserImg" jdbcType="VARCHAR" property="userimg" />
      <result column="IndividualImg" jdbcType="VARCHAR" property="individualimg" />
      <result column="JobNumber" jdbcType="VARCHAR" property="jobnumber" />
      <result column="Emp_Name" jdbcType="VARCHAR" property="empName" />
      <result column="Emp_Sex" jdbcType="CHAR" property="empSex" />
      <result column="Emp_Phone" jdbcType="VARCHAR" property="empPhone" />
      <result column="E_mail" jdbcType="VARCHAR" property="eMail" />
      <result column="Birthday" jdbcType="TIMESTAMP" property="birthday" />
      <result column="Remarks" jdbcType="VARCHAR" property="remarks" />
      <result column="Address" jdbcType="VARCHAR" property="address" />
      <result column="EmpState" jdbcType="INTEGER" property="empstate" />
      <result column="Passwords" jdbcType="VARCHAR" property="passwords" />
      <result column="Addname" jdbcType="VARCHAR" property="addname" />
      <result column="AddTime" jdbcType="TIMESTAMP" property="addtime" />
      <result column="UpdateName" jdbcType="VARCHAR" property="updatename" />
      <result column="UpdateTime" jdbcType="TIMESTAMP" property="updatetime" />
      <result column="DeleteName" jdbcType="VARCHAR" property="deletename" />
      <result column="DeleteTime" jdbcType="TIMESTAMP" property="deletetime" />
      <result column="LoginState" jdbcType="INTEGER" property="loginstate" />
      <result column="Education" jdbcType="VARCHAR" property="education" />
      <result column="Graduate" jdbcType="VARCHAR" property="graduate" />
    </association>
    <association property="tteacher" javaType="com.trkj.tsm.entity.Emp">
      <id column="Emp_Id" jdbcType="INTEGER" property="empId" />
      <result column="Dept_Id" jdbcType="INTEGER" property="deptId" />
      <result column="Position_Id" jdbcType="INTEGER" property="positionId" />
      <result column="Enterprise_Id" jdbcType="INTEGER" property="enterpriseId" />
      <result column="UserImg" jdbcType="VARCHAR" property="userimg" />
      <result column="IndividualImg" jdbcType="VARCHAR" property="individualimg" />
      <result column="JobNumber" jdbcType="VARCHAR" property="jobnumber" />
      <result column="Emp_Name" jdbcType="VARCHAR" property="empName" />
      <result column="Emp_Sex" jdbcType="CHAR" property="empSex" />
      <result column="Emp_Phone" jdbcType="VARCHAR" property="empPhone" />
      <result column="E_mail" jdbcType="VARCHAR" property="eMail" />
      <result column="Birthday" jdbcType="TIMESTAMP" property="birthday" />
      <result column="Remarks" jdbcType="VARCHAR" property="remarks" />
      <result column="Address" jdbcType="VARCHAR" property="address" />
      <result column="EmpState" jdbcType="INTEGER" property="empstate" />
      <result column="Passwords" jdbcType="VARCHAR" property="passwords" />
      <result column="Addname" jdbcType="VARCHAR" property="addname" />
      <result column="AddTime" jdbcType="TIMESTAMP" property="addtime" />
      <result column="UpdateName" jdbcType="VARCHAR" property="updatename" />
      <result column="UpdateTime" jdbcType="TIMESTAMP" property="updatetime" />
      <result column="DeleteName" jdbcType="VARCHAR" property="deletename" />
      <result column="DeleteTime" jdbcType="TIMESTAMP" property="deletetime" />
      <result column="LoginState" jdbcType="INTEGER" property="loginstate" />
      <result column="Education" jdbcType="VARCHAR" property="education" />
      <result column="Graduate" jdbcType="VARCHAR" property="graduate" />
    </association>
    <association property="detailcourse" javaType="com.trkj.tsm.entity.Detailcourse">
      <id column="DetailCourse_Id" jdbcType="INTEGER" property="detailcourseId" />
      <result column="Course_Id" jdbcType="INTEGER" property="courseId" />
      <result column="DetailCourse_Name" jdbcType="VARCHAR" property="detailcourseName" />
      <result column="Serial" jdbcType="INTEGER" property="serial" />
      <result column="AddName" jdbcType="VARCHAR" property="addname" />
      <result column="ADDTIME" jdbcType="TIMESTAMP" property="addtime" />
      <result column="UpdateName" jdbcType="VARCHAR" property="updatename" />
      <result column="UpdateTime" jdbcType="TIMESTAMP" property="updatetime" />
      <result column="StopName" jdbcType="VARCHAR" property="stopname" />
      <result column="StopTime" jdbcType="TIMESTAMP" property="stoptime" />
      <result column="BeginName" jdbcType="VARCHAR" property="beginname" />
      <result column="BeginTime" jdbcType="TIMESTAMP" property="begintime" />
      <result column="DeleteName" jdbcType="VARCHAR" property="deletename" />
      <result column="DeleteTime" jdbcType="TIMESTAMP" property="deletetime" />
      <result column="TimeLiness" jdbcType="INTEGER" property="timeliness" />
    </association>
  </resultMap>
  <sql id="Base_Column_List">
    Classes_Id, Course_Id, Teacher_Id, Emp_Id, DetailCourse_Id, Classes_Name, Classes_Open,
    OpenDate, Classes_State, EndDate, AddName, AddTIME, UpdateName, UpdateTime, DeleteName,
    DeleteTime, TimeLiness
  </sql>
  <sql id="Base_Column_Listcourse">
    course.Course_Id, course.Commission, course.Course_Name, course.Course_State, course.Classhours,
    course.Course_Money, course.ClassType_Id, course.AddName, course.ADDTIME, course.UpdateName,
    course.UpdateTime, course.StopName, course.StopTime, course.BeginName, course.BeginTime,
    course.DeleteName, course.DeleteTime, course.TimeLiness
  </sql>
  <sql id="Base_Column_Listt">
    t.Emp_Id, t.Dept_Id, t.Position_Id, t.Enterprise_Id, t.UserImg, t.IndividualImg, t.JobNumber,
    t.Emp_Name, t.Emp_Sex, t.Emp_Phone, t.E_mail, t.Birthday, t.Remarks, t.Address, t.EmpState,
    t.Passwords, t.Addname, t.AddTime, t.UpdateName, t.UpdateTime, t.DeleteName, t.DeleteTime,
    t.LoginState, t.Education, t.Graduate
  </sql>
  <sql id="Base_Column_Liste">
    e.Emp_Id, e.Dept_Id, e.Position_Id, e.Enterprise_Id, e.UserImg, e.IndividualImg, e.JobNumber,
    e.Emp_Name, e.Emp_Sex, e.Emp_Phone, e.E_mail, e.Birthday, e.Remarks, e.Address, e.EmpState,
    e.Passwords, e.Addname, e.AddTime, e.UpdateName, e.UpdateTime, e.DeleteName, e.DeleteTime,
    e.LoginState, e.Education, e.Graduate
  </sql>
  <sql id="Base_Column_Listdetailcourse">
    detailcourse.DetailCourse_Id, detailcourse.Course_Id, detailcourse.DetailCourse_Name,
    detailcourse.Serial, detailcourse.AddName, detailcourse.ADDTIME, detailCourse.UpdateName,
    detailcourse.UpdateTime, detailcourse.StopName, detailcourse.StopTime,
    detailcourse.BeginName, detailcourse.BeginTime, detailcourse.DeleteName,
    detailcourse.DeleteTime, detailcourse.TimeLiness
  </sql>

  <select id="selectAllClasses" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    <include refid="Base_Column_Listcourse" />
    <include refid="Base_Column_Listt" />
    <include refid="Base_Column_Liste" />
    <include refid="Base_Column_Listdetailcourse" />

    from classes
    classes inner join course on classes.Course_Id=course.Course_Id
    classes inner join emp t on classes.Teacher_Id=t.Emp_Id
    classes inner join emp e on classes.Emp_Id=e.Emp_Id
    classes inner join detailcourse on classes.DetailCourse_Id=detailcourse.DetailCourse_Id

    where classes.TimeLiness=0

    order by classes.Classes_Id desc
  </select>
<!--  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">-->
<!--    delete from classes-->
<!--    where Classes_Id = #{classesId,jdbcType=INTEGER}-->
<!--  </delete>-->
<!--  <insert id="insert" keyColumn="Classes_Id" keyProperty="classesId" parameterType="com.trkj.tsm.entity.Classes" useGeneratedKeys="true">-->
<!--    insert into classes (Course_Id, Teacher_Id, Emp_Id, -->
<!--      DetailCourse_Id, Classes_Name, Classes_Open, -->
<!--      OpenDate, Classes_State, EndDate, -->
<!--      AddName, AddTIME, UpdateName, -->
<!--      UpdateTime, DeleteName, DeleteTime, -->
<!--      TimeLiness)-->
<!--    values (#{courseId,jdbcType=INTEGER}, #{teacherId,jdbcType=INTEGER}, #{empId,jdbcType=INTEGER}, -->
<!--      #{detailcourseId,jdbcType=INTEGER}, #{classesName,jdbcType=VARCHAR}, #{classesOpen,jdbcType=INTEGER}, -->
<!--      #{opendate,jdbcType=TIMESTAMP}, #{classesState,jdbcType=INTEGER}, #{enddate,jdbcType=TIMESTAMP}, -->
<!--      #{addname,jdbcType=VARCHAR}, #{addtime,jdbcType=TIMESTAMP}, #{updatename,jdbcType=VARCHAR}, -->
<!--      #{updatetime,jdbcType=TIMESTAMP}, #{deletename,jdbcType=VARCHAR}, #{deletetime,jdbcType=TIMESTAMP}, -->
<!--      #{timeliness,jdbcType=INTEGER})-->
<!--  </insert>-->
<!--  <insert id="insertSelective" keyColumn="Classes_Id" keyProperty="classesId" parameterType="com.trkj.tsm.entity.Classes" useGeneratedKeys="true">-->
<!--    insert into classes-->
<!--    <trim prefix="(" suffix=")" suffixOverrides=",">-->
<!--      <if test="courseId != null">-->
<!--        Course_Id,-->
<!--      </if>-->
<!--      <if test="teacherId != null">-->
<!--        Teacher_Id,-->
<!--      </if>-->
<!--      <if test="empId != null">-->
<!--        Emp_Id,-->
<!--      </if>-->
<!--      <if test="detailcourseId != null">-->
<!--        DetailCourse_Id,-->
<!--      </if>-->
<!--      <if test="classesName != null">-->
<!--        Classes_Name,-->
<!--      </if>-->
<!--      <if test="classesOpen != null">-->
<!--        Classes_Open,-->
<!--      </if>-->
<!--      <if test="opendate != null">-->
<!--        OpenDate,-->
<!--      </if>-->
<!--      <if test="classesState != null">-->
<!--        Classes_State,-->
<!--      </if>-->
<!--      <if test="enddate != null">-->
<!--        EndDate,-->
<!--      </if>-->
<!--      <if test="addname != null">-->
<!--        AddName,-->
<!--      </if>-->
<!--      <if test="addtime != null">-->
<!--        AddTIME,-->
<!--      </if>-->
<!--      <if test="updatename != null">-->
<!--        UpdateName,-->
<!--      </if>-->
<!--      <if test="updatetime != null">-->
<!--        UpdateTime,-->
<!--      </if>-->
<!--      <if test="deletename != null">-->
<!--        DeleteName,-->
<!--      </if>-->
<!--      <if test="deletetime != null">-->
<!--        DeleteTime,-->
<!--      </if>-->
<!--      <if test="timeliness != null">-->
<!--        TimeLiness,-->
<!--      </if>-->
<!--    </trim>-->
<!--    <trim prefix="values (" suffix=")" suffixOverrides=",">-->
<!--      <if test="courseId != null">-->
<!--        #{courseId,jdbcType=INTEGER},-->
<!--      </if>-->
<!--      <if test="teacherId != null">-->
<!--        #{teacherId,jdbcType=INTEGER},-->
<!--      </if>-->
<!--      <if test="empId != null">-->
<!--        #{empId,jdbcType=INTEGER},-->
<!--      </if>-->
<!--      <if test="detailcourseId != null">-->
<!--        #{detailcourseId,jdbcType=INTEGER},-->
<!--      </if>-->
<!--      <if test="classesName != null">-->
<!--        #{classesName,jdbcType=VARCHAR},-->
<!--      </if>-->
<!--      <if test="classesOpen != null">-->
<!--        #{classesOpen,jdbcType=INTEGER},-->
<!--      </if>-->
<!--      <if test="opendate != null">-->
<!--        #{opendate,jdbcType=TIMESTAMP},-->
<!--      </if>-->
<!--      <if test="classesState != null">-->
<!--        #{classesState,jdbcType=INTEGER},-->
<!--      </if>-->
<!--      <if test="enddate != null">-->
<!--        #{enddate,jdbcType=TIMESTAMP},-->
<!--      </if>-->
<!--      <if test="addname != null">-->
<!--        #{addname,jdbcType=VARCHAR},-->
<!--      </if>-->
<!--      <if test="addtime != null">-->
<!--        #{addtime,jdbcType=TIMESTAMP},-->
<!--      </if>-->
<!--      <if test="updatename != null">-->
<!--        #{updatename,jdbcType=VARCHAR},-->
<!--      </if>-->
<!--      <if test="updatetime != null">-->
<!--        #{updatetime,jdbcType=TIMESTAMP},-->
<!--      </if>-->
<!--      <if test="deletename != null">-->
<!--        #{deletename,jdbcType=VARCHAR},-->
<!--      </if>-->
<!--      <if test="deletetime != null">-->
<!--        #{deletetime,jdbcType=TIMESTAMP},-->
<!--      </if>-->
<!--      <if test="timeliness != null">-->
<!--        #{timeliness,jdbcType=INTEGER},-->
<!--      </if>-->
<!--    </trim>-->
<!--  </insert>-->
<!--  <update id="updateByPrimaryKeySelective" parameterType="com.trkj.tsm.entity.Classes">-->
<!--    update classes-->
<!--    <set>-->
<!--      <if test="courseId != null">-->
<!--        Course_Id = #{courseId,jdbcType=INTEGER},-->
<!--      </if>-->
<!--      <if test="teacherId != null">-->
<!--        Teacher_Id = #{teacherId,jdbcType=INTEGER},-->
<!--      </if>-->
<!--      <if test="empId != null">-->
<!--        Emp_Id = #{empId,jdbcType=INTEGER},-->
<!--      </if>-->
<!--      <if test="detailcourseId != null">-->
<!--        DetailCourse_Id = #{detailcourseId,jdbcType=INTEGER},-->
<!--      </if>-->
<!--      <if test="classesName != null">-->
<!--        Classes_Name = #{classesName,jdbcType=VARCHAR},-->
<!--      </if>-->
<!--      <if test="classesOpen != null">-->
<!--        Classes_Open = #{classesOpen,jdbcType=INTEGER},-->
<!--      </if>-->
<!--      <if test="opendate != null">-->
<!--        OpenDate = #{opendate,jdbcType=TIMESTAMP},-->
<!--      </if>-->
<!--      <if test="classesState != null">-->
<!--        Classes_State = #{classesState,jdbcType=INTEGER},-->
<!--      </if>-->
<!--      <if test="enddate != null">-->
<!--        EndDate = #{enddate,jdbcType=TIMESTAMP},-->
<!--      </if>-->
<!--      <if test="addname != null">-->
<!--        AddName = #{addname,jdbcType=VARCHAR},-->
<!--      </if>-->
<!--      <if test="addtime != null">-->
<!--        AddTIME = #{addtime,jdbcType=TIMESTAMP},-->
<!--      </if>-->
<!--      <if test="updatename != null">-->
<!--        UpdateName = #{updatename,jdbcType=VARCHAR},-->
<!--      </if>-->
<!--      <if test="updatetime != null">-->
<!--        UpdateTime = #{updatetime,jdbcType=TIMESTAMP},-->
<!--      </if>-->
<!--      <if test="deletename != null">-->
<!--        DeleteName = #{deletename,jdbcType=VARCHAR},-->
<!--      </if>-->
<!--      <if test="deletetime != null">-->
<!--        DeleteTime = #{deletetime,jdbcType=TIMESTAMP},-->
<!--      </if>-->
<!--      <if test="timeliness != null">-->
<!--        TimeLiness = #{timeliness,jdbcType=INTEGER},-->
<!--      </if>-->
<!--    </set>-->
<!--    where Classes_Id = #{classesId,jdbcType=INTEGER}-->
<!--  </update>-->
<!--  <update id="updateByPrimaryKey" parameterType="com.trkj.tsm.entity.Classes">-->
<!--    update classes-->
<!--    set Course_Id = #{courseId,jdbcType=INTEGER},-->
<!--      Teacher_Id = #{teacherId,jdbcType=INTEGER},-->
<!--      Emp_Id = #{empId,jdbcType=INTEGER},-->
<!--      DetailCourse_Id = #{detailcourseId,jdbcType=INTEGER},-->
<!--      Classes_Name = #{classesName,jdbcType=VARCHAR},-->
<!--      Classes_Open = #{classesOpen,jdbcType=INTEGER},-->
<!--      OpenDate = #{opendate,jdbcType=TIMESTAMP},-->
<!--      Classes_State = #{classesState,jdbcType=INTEGER},-->
<!--      EndDate = #{enddate,jdbcType=TIMESTAMP},-->
<!--      AddName = #{addname,jdbcType=VARCHAR},-->
<!--      AddTIME = #{addtime,jdbcType=TIMESTAMP},-->
<!--      UpdateName = #{updatename,jdbcType=VARCHAR},-->
<!--      UpdateTime = #{updatetime,jdbcType=TIMESTAMP},-->
<!--      DeleteName = #{deletename,jdbcType=VARCHAR},-->
<!--      DeleteTime = #{deletetime,jdbcType=TIMESTAMP},-->
<!--      TimeLiness = #{timeliness,jdbcType=INTEGER}-->
<!--    where Classes_Id = #{classesId,jdbcType=INTEGER}-->
<!--  </update>-->
</mapper>